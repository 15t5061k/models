public service UI::UI.initialize () is
ui: instance of UI;
uiconst: instance of UIConstants;
begin
  // make sure the singleton exists
  ui := find_one UI();
  if (null = ui) then
    uiconst := find_one UIConstants();
    if ( null = uiconst ) then
      UIConstants.initialize();
      uiconst := find_one UIConstants();
    end if;
    ui := create UI( id => 1, Current_State => running );
    ui.socket_id := uiconst.SOCKET_ERROR;
  end if;
end service;
